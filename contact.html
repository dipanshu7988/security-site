<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contact ‚Äî SecureSite</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--bg:#f8fafc;--card:#ffffff;--text:#0f172a;--muted:#475569;--accent:#2563eb}
    .dark{--bg:#0b1220;--card:#071127;--text:#e6eef8;--muted:#9aa9bf;--accent:#3b82f6}
    html,body{background-color:var(--bg);color:var(--text);}
    .card{background-color:var(--card);color:var(--text);}
    a{color:var(--accent);}
    .theme-toggle{cursor:pointer;padding:.35rem .65rem;border-radius:.5rem;}
  </style>
</head>
<body>
  <header class="p-6 card shadow">
    <div class="max-w-4xl mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">SecureSite</h1>
      <nav class="flex items-center gap-3">
        <a href="/">Home</a>
        <a href="/tools.html">Tools</a>
        <a href="/contact.html">Contact</a>
        <button id="themeToggle" class="theme-toggle">üåô</button>
      </nav>
    </div>
  </header>

  <main class="max-w-xl mx-auto p-6">
    <h1 class="text-2xl font-bold mb-4">Contact / Report Vulnerability</h1>
    <form id="contactForm" class="card p-4 rounded shadow">
      <label class="block mb-2">Name
        <input name="name" required class="w-full p-2 border rounded"/>
      </label>
      <label class="block mb-2">Email
        <input name="email" type="email" required class="w-full p-2 border rounded"/>
      </label>
      <label class="block mb-2">Message
        <textarea name="message" required class="w-full p-2 border rounded"></textarea>
      </label>
      <button class="px-4 py-2 bg-blue-600 text-white rounded">Send</button>
    </form>
    <div id="status" class="mt-3 text-sm"></div>
  </main>

  <footer class="text-sm p-6 text-center card">¬©Ô∏è SecureSite Contact</footer>

  <script>
  const form = document.getElementById('contactForm');
  const status = document.getElementById('status');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    status.textContent = "Sending...";
    const data = Object.fromEntries(new FormData(form).entries());
    try {
      const res = await fetch('/.netlify/functions/contact', {
        method: 'POST',
        body: JSON.stringify(data),
        headers: {'Content-Type': 'application/json'}
      });
      const json = await res.json();
      if (res.ok) status.textContent = "‚úÖ Sent successfully!";
      else status.textContent = `‚ùå Error: ${json.error || res.statusText}`;
    } catch (err) {
      status.textContent = "‚ö†Ô∏è Network error.";
    }
  });
  </script>

  <script>
  (function () {
    const key='site-theme', cls='dark', btn=document.getElementById('themeToggle');
    function set(t){document.documentElement.classList.toggle(cls,t==='dark');btn.textContent=t==='dark'?'‚òÄÔ∏è':'üåô'}
    let t=localStorage.getItem(key)|| (matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');
    set(t);
    btn.addEventListener('click',()=>{t=t==='dark'?'light':'dark';localStorage.setItem(key,t);set(t);});
  })();
  </script>
</body>
</html>